% Author: Mouad Jaouhari
% Version: 1
% Date: 17 June 2025

\documentclass[a4paper,12pt]{extarticle} % Classe du document

%--------------------- Langue & Encodage ------------------------
\usepackage[french]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

%--------------------- Mise en page ------------------------
%\usepackage[margin=3cm]{geometry}
\usepackage[top=2cm, bottom=2cm, left=2cm, right=2cm]{geometry}
\usepackage{setspace}
\usepackage{indentfirst}

%--------------------- Mathématiques ------------------------
\usepackage{amsmath, amssymb}
\usepackage{mathtools}
\usepackage{siunitx}

%--------------------- Tableaux ------------------------
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{tabularx}
\usepackage{array}

%--------------------- Graphiques & Figures ------------------------
\usepackage{graphicx}
\usepackage{float}
\usepackage[justification=centering]{caption}
\usepackage{subcaption}
\usepackage[export]{adjustbox}
\usepackage[dvipsnames]{xcolor}
%--------------------- TikZ & PgfPlots ------------------------
\usepackage{tikz}
\usetikzlibrary{positioning, arrows.meta, shapes.geometric, arrows}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

%--------------------- Listings (Code) ------------------------
%--------------------- Listings (Code) ------------------------
\usepackage{listings}
\usepackage{xcolor}
\usepackage{float}
\floatplacement{listing}{H}

% Définition des couleurs personnalisées
\definecolor{codebg}{rgb}{0.95,0.95,0.95}
\definecolor{codegray}{gray}{0.5}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{codeblue}{rgb}{0.25,0.5,0.75}

% Style global pour listings
\lstdefinestyle{custom}{
    backgroundcolor=\color{codebg},
    basicstyle=\ttfamily\small,
    breaklines=true,
    frame=single,
    numbers=left,
    numberstyle=\tiny\color{codegray},
    numbersep=8pt,
    keywordstyle=\color{codeblue}\bfseries,
    commentstyle=\color{codegreen}\itshape,
    stringstyle=\color{codepurple},
    showstringspaces=false,
    tabsize=4,
    captionpos=b
}

\lstset{style=custom}

%--------------------- Hyperliens ------------------------
\usepackage[hidelinks]{hyperref}
\usepackage{url}

%--------------------- Autres Utilitaires ------------------------
\usepackage{csquotes}
\usepackage{comment}
\usepackage{imakeidx}
\usepackage{wallpaper}
\usepackage{fancyhdr}
\usepackage{lipsum}
\usepackage{microtype}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage{titlesec}
\usepackage{titling}
\usepackage{placeins}

% Replace your current date command with this:
\usepackage{datetime}
\newdateformat{myfrenchdate}{\twodigit{\THEDAY}~\monthname[\THEMONTH]~\THEYEAR}

% Better approach - define a custom command for the internship period
\newcommand{\periodeStage}[2]{%
    {\large #1 -- #2}
}


\usepackage{biblatex}
\addbibresource{ref.bib}
\usepackage{glossaries}
\makeglossaries
\loadglsentries{glossary.tex}

\doublespacing

\pagestyle{fancy}
\fancyhf{}
\fancyhead[R]{\nouppercase{\rightmark}}
\renewcommand{\headrulewidth}{0.4pt}
\fancyfoot[L]{\includegraphics[height=0.5cm]{figs/logo_em.jpg}}
\fancyfoot[C]{\thepage}
\fancyfoot[R]{\includegraphics[height=0.5cm]{figs/Atos-logo.png}}
\renewcommand{\footrulewidth}{0.4pt}

\fancypagestyle{plain}{%
  \fancyhf{}%
  \renewcommand{\headrulewidth}{0pt}%
  \renewcommand{\footrulewidth}{0pt}%
}

\setlength{\headheight}{15pt}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  


% Personnalisation des titres de section
\renewcommand{\thesection}{\Roman{section}}
\renewcommand{\thesubsection}{\arabic{subsection}}
\renewcommand{\thesubsubsection}{\thesubsection.\arabic{subsubsection}}
\titleformat{\section}
  {\normalfont\Large\bfseries\color{Red}}
  {\thesection.}
  {1em}
  {}
\titleformat{\subsection}
  {\normalfont\large\bfseries\color{Green}}
  {\thesubsection.}
  {1em}
  {}
\titleformat{\subsubsection}
  {\normalfont\normalsize\bfseries\color{Blue}}
  {\thesubsubsection.}
  {1em}
  {}

% Profondeur de la numérotation et de la table des matières
\setcounter{secnumdepth}{5}
\setcounter{tocdepth}{5}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  


\begin{document}

%régler l'espacement entre les lignes
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

%page de garde
\input{./title.tex}
\pagestyle{empty}

%ne pas numéroter cette page
\thispagestyle{empty}
\newpage
\pagestyle{fancy}

% Table des matières
\tableofcontents
\newpage

% Glossaire
\addcontentsline{toc}{section}{Glossaire}
\printglossaries
\newpage

% Inclusion des parties principales
\input{01_presentation_projet.tex}
\input{02_analyse_existant.tex}
\input{03_analyse_besoins.tex}
\input{04_autre_partie.tex}
\input{05_resultats.tex}
\input{06_bilan.tex}

\newpage
\input{annexes.tex}


\newpage
\addcontentsline{toc}{section}{Bibliographie}
\printbibliography[title={References}]

\end{document}